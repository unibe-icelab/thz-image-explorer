[package]
name = "thz-image-explorer"
authors = ["Linus Leo Stöckli"]
version = "0.2.2"
edition = "2021"
description = "Explorer Software for THz TDS images."
license = "GPL-3.0"

[dependencies]
eframe = { version = "0.31", features = ["persistence", "wayland", "x11"] }
egui_extras = { version = "0.31", features = ["all_loaders"] }
egui-phosphor = "0.9.0"
egui_plot = "0.31"
egui_logger = { git = "https://github.com/hacknus/egui_logger" }
egui-theme-switch = { git = "https://github.com/hacknus/egui-theme-switch" }
egui-file-dialog = { git = "https://github.com/hacknus/egui-file-dialog", branch = "sort_by_metadata", features = ["information_view"] }
egui_double_slider = "0.7.0"
egui-plotter = { version = "0.4.0" }
bevy = "0.16.0-rc.5"
bevy_egui = "0.34.0-rc.3"
crossbeam-channel = "0.5"
log = "0.4.22"
image = { version = "0.25", default-features = false, features = ["bmp", "jpeg", "gif", "png", "tiff", "rayon"] }
itertools-num = "0.1"
realfft = "3.4.0"
preferences = "2.0.0"
serde = { version = "1.0", features = ["derive"] }
csv = "1.1.6"
ndarray = { version = "0.16.1", features = ["rayon", "serde"] }
ndarray-npy = { version = "0.9.1", features = ["npz"] }
ndarray-stats = "0.6.0"
statrs = "0.18.0"
serde_json = "1.0.95"
itertools = "0.14.0"
dotthz = { version = "0.2.10", features = ["serde", "hdf5-sys-static"] }
home = "0.5.11"
self_update = { git = "https://github.com/hacknus/self_update", features = ["archive-zip", "compression-zip-deflate"], optional = true }
tempfile = { version = "3.15", optional = true }
reqwest = { version = "0.12", default-features = false, features = ["blocking", "json", "rustls-tls", "http2"], optional = true }
semver = { version = "1.0.24", optional = true }
glob = "0.3.2"
filter_macros = { path = "filter_macros" }
ctor = "0.4"
once_cell = "1.21"
plotters = "0.3.7"
rayon = "1.10.0"

[features]
default = ["self_update"]
self_update = ["dep:self_update", "tempfile", "reqwest", "semver"]

[package.metadata.bundle]
name = "THz Image Explorer"
identifier = "ch.unibe.thzimageexplorer"
icon = ["./icons/install.png"]
copyright = "Copyright (c) 2025, University of Bern, Space Research & Planetary Sciences, Linus Leo Stöckli."
category = "Developer Tool"
short_description = "Explorer Software for THz time domain images."
long_description = "THz Image Explorer is an application for THz time-domain images, developed by the Planetary Imaging Group of the Space Science and Planetology Division at the University of Bern, Switzerland."
license = "GPL-3.0"
osx_minimum_system_version = "10.12"
osx_url_schemes = ["ch.unibe.thzimageexplorer"]
deb_depends = ["libclang-dev", "libgtk-3-dev", "libxcb-render0-dev", "libxcb-shape0-dev", "libxcb-xfixes0-dev", "libxkbcommon-dev", "libssl-dev"]

[package.metadata.wix]
dbg-build = false
dbg-name = false
name = "THz Image Explorer"
no-build = false
output = "target/wix/THzImageExplorerInstaller.msi"

[profile.release]
debug = 1